# Food Reservation Telegram Bot

سیستم جامع رزرو غذا بر بستر بات تلگرام.
این پروژه با استفاده از **Java Spring Boot** پیاده‌سازی شده و دارای پنل مدیریت RESTful برای کنترل سفارش‌ها و منوی غذا می‌باشد.
بات با آیدی @bahmansabzfoodbot از طریق لینک زیر قابل دسترس است:

**[ورود به بات تلگرام](https://t.me/bahmansabzfoodbot)**
---

## تکنولوژی‌های استفاده شده

- **Language:** Java 21
- **Database:** MySQL 8.0 (Production), H2 (Testing)
- **Bot Library:** TelegramBots Spring Boot Starter
- **Containerization:** Docker & Docker Compose

---

## قابلیت‌ها

### بات تلگرام (User Side)
- مشاهده منوی غذا.
- ثبت سفارش با یک کلیک.


### پنل مدیریت (Admin API)
- **مدیریت منو:** افزودن و حذف (غیرفعال کردن) غذاها.
- **گزارش‌گیری پیشرفته:** فیلتر سفارش‌ها بر اساس کاربر، وضعیت (Status) و بازه زمانی.
- **مدیریت سفارش:** تغییر وضعیت سفارش (ثبت شده، آماده، تحویل شده، رد شده).

---

## راهنمای نصب و اجرا

### گام ۱: اجرای دیتابیس با داکر
در پوشه اصلی پروژه، دستور زیر را اجرا کنید تا MySQL بالا بیاید:

```bash
docker-compose up -d
```
*(این دستور دیتابیس را روی پورت `3306` یا `3307` طبق تنظیمات `docker-compose.yml` اجرا می‌کند).*


### گام ۲: اجرای برنامه
با استفاده از دستور زیر برنامه را اجرا کنید:

```bash
mvn spring-boot:run
```
یا در IntelliJ IDEA کلاس `FoodReservationApplication` را Run کنید.

---

## اجرای تست‌ها

این پروژه شامل **Integration Tests** کامل برای بخش Admin Controller است که از دیتابیس H2 (در حافظه) استفاده می‌کند.

برای اجرای تست‌ها:
```bash
mvn test
```

---

## مستندات API (خلاصه)

برای مدیریت سیستم می‌توانید از اندپوینت‌های زیر استفاده کنید (فرمت تمام درخواست‌ها JSON است).

| متد | آدرس (Endpoint) | توضیحات |
| :--- | :--- | :--- |
| `POST` | `/api/admin/foods` | افزودن غذای جدید به منو |
| `DELETE` | `/api/admin/foods/{id}` | حذف (غیرفعال کردن) غذا |
| `GET` | `/api/admin/orders` | دریافت لیست سفارش‌ها (با قابلیت فیلتر) |
| `PUT` | `/api/admin/orders/{id}/status` | تغییر وضعیت سفارش |

*برای مشاهده مستندات کامل و نمونه درخواست‌ها، فایل `API.md` موجود در پروژه را مطالعه کنید.*
